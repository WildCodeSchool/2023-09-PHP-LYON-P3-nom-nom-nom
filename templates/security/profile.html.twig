{% extends 'base.html.twig' %}

{% block title %}Nom-Nom - Mon profil
{% endblock %}

{% block body %}
	<img class="w-100 object-fit-cover d-none d-md-block" src="{{ asset('/build/images/background-pages.png') }}"/>
	<a class="logout-link link-offset-2 link-underline link-underline-opacity-0 nav-link fs-6 fw-semibold mt-3 mr-3 d-md-none" href="{{ path('app_logout') }}">
		<i class="fa-solid fa-power-off"></i>
		Se déconnecter</a>


	<div class="user-container">


		<div>

			<div>
				<h1 class="text-center fs-1 mt-4">Mon profil</h1>
				<img class="object-fit-cover user-avatar" src="{{ asset('build/images/user.png') }}" alt="Photo de l'avatar Nom-Nom"/>
				<h4 class="text-center">
					<i class="fa-solid fa-address-card"></i>
					Nom</h4>
				<p class="text-center">{{app.user.lastname}}</p>
			</div>

			<div>
				<h4 class="text-center">
					<i class="fa-solid fa-address-card"></i>
					Prénom</h4>
				<p class="text-center">{{app.user.firstname}}</p>
			</div>

			<div>
				<h4 class="text-center">
					<i class="fa-regular fa-user"></i>
					Pseudo</h4>
				<p class="text-center">{{app.user.pseudo}}</p>
			</div>
			<div class="user-card">
				<h4><i class="fa-solid fa-envelope"></i>Mail</h4>
				<p class="user-paragraph">{{app.user.email}}</p>
			</div>
			<div class="user-button">
				<a href="{{ path('app_profile_favorite_recipes') }}" class="btn button-crud mt-4 mb-2" tabindex="-1" role="button" aria-disabled="true">Mes favoris</a>
				<a href="{{ path('app_profile_my_recipes') }}" class="btn button-crud mt-4 mb-2" tabindex="-1" role="button" aria-disabled="true">Mes recettes</a>
				<a href="{{ path('app_profile_edit') }}" class="btn button-crud mt-4 mb-2" tabindex="-1" role="button" aria-disabled="true">Editer mon profil</a>
				{% if is_granted("ROLE_ADMIN") %}
				<a href="{{ path('admin') }}" class="btn button-crud mt-4 mb-2" tabindex="-1" role="button" aria-disabled="true">Mon Dashboard </a>
				{% endif %}
			</div>
		</div>


		<a href="{{ path('app_profile_favorite_recipes') }}" tabindex="-1" role="button" aria-disabled="true">Mes favoris</a>

		<div class="container text-center pt-5 d-md-none">
			<div id="carouselExampleIndicators" class="carousel carousel-dark slide">
				<div class="carousel-inner">
					{% for recipe in showMyRecipes %}
						<div class="carousel-item active">
							<a href="{{ path('app_recipe_show', { slug: recipe.slug }) }}"><img src="{{ asset('uploads/images/pictures/' ~ recipe.picture) }}" class="pic-recipe object-fit-cover" alt="{{ recipe.nameRecipe }}"/></a>
							<div class="container-fluid carousel-caption d-md-block glassmorphism">
								<h5>{{ recipe.nameRecipe }}</h5>
								<p class="w-75 container text-center text-truncate" style="max-width: 350px;">{{ recipe.description }}</p>
							</div>
						</div>
					{% endfor %}
				</div>

				<a href="{{ path('app_profile_my_recipes') }}" tabindex="-1" role="button" aria-disabled="true">Mes recettes</a>

				<a href="{{ path('app_profile_edit') }}" tabindex="-1" role="button" aria-disabled="true">Editer mon profil</a>

			</div>

		</div>
	{% endblock %}
